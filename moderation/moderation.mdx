---
title: "Moderation"
icon: "hammer"
description: "A quick guide to setting up moderation for your server."
---

## Setup mute roles

<Steps>
  <Step title="Run the setup command">
    Use the `,setup` command to automatically configure your server's moderation environment.
  </Step>
  <Step title="Verify created channels">
    greed will create a **greed-mod** category containing:

    - `#logs`: Where all moderation actions are recorded.
    - `#jail`: A restricted channel for jailed users.

    <Info>
      Jail is similar to mute, but it restricts the user from viewing all channels except the jail channel.
    </Info>
  </Step>
  <Step title="Verify created roles">
    The following specialized roles will be created:

    - **imute**: Restricts the user from uploading images.
    - **rmute**: Restricts the user from adding reactions or using external emoji.
    - **jailed**: Restricts the user from all channels except the jail channel.

    <Warning>
      Do **not** rename the `jailed` role, as this can break the jail functionality.
    </Warning>
  </Step>
</Steps>

> To reset or delete these roles and channels, use the `,setup reset` command.

## Moderation Messages (Invoke)

The `invoke` system allows you to customize the messages greed sends when moderation actions are taken.

### Supported Actions

You can customize messages for: `ban`, `kick`, `timeout`, `softban`, `hardban`, `imute`, `rmute`, `untimeout`, `iunmute`, `runmute`

### Configuration Commands

<CodeGroup>

```javascript DM Message
,invoke (action) dm (message)
```


```javascript Channel Response
,invoke (action) message (message)
```

</CodeGroup>

### Message Variables

You can use the following variables in your messages:

- `{user.mention}` - Mentions the user
- `{user.name}` - The user's username
- `{user.id}` - The user's ID
- `{guild.name}` - The server name
- `{reason}` - The reason provided for the action
- `{moderator.name}` - The name of the moderator who took the action
- `{moderator.mention}` - Mentions the moderator

### Advanced Commands

<AccordionGroup>
  <Accordion title="View Configurations">
    Use `,invoke list` or `,invoke settings` to see all your active message customizations.
  </Accordion>
  <Accordion title="Test Messages">
    Use `,invoke test (action)` to see how your customized message looks.
  </Accordion>
  <Accordion title="Variables Reference">
    Use `,invoke variables` to see a full list of available variables in-app.
  </Accordion>
  <Accordion title="Reset Configuration">
    Use `,invoke reset (action)` to return a specific action to its default message.
  </Accordion>
</AccordionGroup>

## Strip Permissions

You can quickly remove a user's dangerous permissions (like Administrator or Manage Server) using the strip command.

<CodeGroup>

```javascript Command
,strip (user) [reason]
```


```javascript Example
,strip @fe3murs being abusive
```

</CodeGroup>

---

## Manual Configuration

If you prefer to configure moderation channels and roles manually instead of using `,setup`, use these commands.

<AccordionGroup>
  <Accordion title="Audit & Logging">
    - `,settings modlog #channel`: Sets the channel where moderation actions are logged.
    - `,settings resetcases`: Wipes the server's moderation history and resets the case counter.
  </Accordion>
  <Accordion title="Restricted Roles">
    - `,settings imuted @Role`: Manually set the role used for Image Mutes.
    - `,settings rmuted @Role`: Manually set the role used for Reaction Mutes.
    - `,settings jail #channel`: Manually set the channel used for the jail system.
  </Accordion>
</AccordionGroup>

---

## Advanced Systems

Fine-tune your server's safety with automated punishments and staff management.

### Staff Roles

Define which roles are considered "Staff". Staff roles have bypasses for certain filters and are recognized by moderation logs.

- Add staff: `,settings staff add @Role`
- List staff: `,settings staff list`
- Remove staff: `,settings staff remove @Role`

### Punishment System (Warnings)

Set up automated actions that occur when a user reaches a certain number of warnings.

<CodeGroup>

```javascript Syntax
,settings warn punishment add (threshold) (action) [duration]
```


```javascript Examples
,settings warn punishment add 3 timeout 1h
,settings warn punishment add 5 kick
,settings warn punishment add 10 ban
```

</CodeGroup>

**Available Actions:**

- `timeout` (Requires duration, e.g., `10m`, `1h`, `1d`)
- `kick`
- `jail`
- `hardban`
- `softban`
- `ban`

<AccordionGroup>
  <Accordion title="Managing Punishments">
    - View all rules: `,settings warn punishment list`
    - Remove a rule: `,settings warn punishment remove (threshold)`
  </Accordion>
</AccordionGroup>